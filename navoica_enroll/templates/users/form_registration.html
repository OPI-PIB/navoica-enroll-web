{% extends "base.html" %}
{% load crispy_forms_tags  i18n %}

{% block title %}{% trans "Register for a course: " %}
  {{ course_info.name }}{% endblock %}

{% block content %}
<div id="student-form" class="pt-2">
  <h1 class="register-course__title">{% trans "Register for a course: " %}</h1>
  <h2 class="register-course__subtitle mb-3">{{ course_info.name }}</h2>

  <p>{% trans "Filling in this form is a prerequisite for taking the course. <strong>The mandatory fields are marked with an asterisk.</strong> After submitting the form, you will be registered for the course."%}</p>
  <p class="pb-5 mb-0">{% trans "More information" %}: <a href="#" data-toggle="modal" data-target="#modal-video" class="text-semi-bold">{% trans "Why is the collection of user data necessary?" %}</a></p>
  <!--<p>{% trans "To participate in the course, fill in the registration form below with your details (mandatory fields have been marked with an asterisk). The information provided should be complete and consistent with the facts. Then accept the participant's statement and agree to the processing of personal data in order to participate in the project. After submitting the form, you will be registered for the course. Participation in the course is free." %}</p>-->

  <div class="modal fade" id="modal-video" tabindex="-1" role="dialog" aria-labelledby="modal-video-title" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title modal__title" id="modal-video-title">{% trans "Why is the collection of user data necessary?" %}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p class="pt-3 pb-4 modal__description">{% trans "The course is funded by the European Union and the Polish state budget. The conditions of funding oblige the university, the organizer of the course, to collect data about the participants. Personal data from the registration form, will be collected, processed and verified by the course organizer. Filling in the form is a prerequisite to join the course." %}</p>
          <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" width="560" height="315" src="https://www.youtube.com/embed/MqTwgAAHJhI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>

  {% crispy form %}
</div>
{% endblock %}

{% block javascript %}
  <script>
    document.addEventListener("DOMContentLoaded", loadTranslationsJS);
    function loadTranslationsJS() {
      let countyInput = document.getElementById('id_county');
      let voivodeshipInput = document.getElementById('id_voivodeship');

      countyInput[0].textContent = "{% trans 'Choose county...'%}";
      voivodeshipInput[0].textContent = "{% trans 'Choose voivodeship...'%}";

    }
  </script>
{% endblock %}
